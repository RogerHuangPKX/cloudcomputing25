{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport apiService from '../services/apiService';\nimport { useRouter } from 'vue-router';\nexport default {\n  name: 'LoginView',\n  data() {\n    return {\n      username: '',\n      password: '',\n      loading: false,\n      error: null\n    };\n  },\n  setup() {\n    const router = useRouter();\n    return {\n      router\n    };\n  },\n  methods: {\n    async handleLogin() {\n      this.loading = true;\n      this.error = null;\n      try {\n        const response = await apiService.login(this.username, this.password);\n        localStorage.setItem('admin-token', response.token);\n        localStorage.setItem('admin-user', JSON.stringify({\n          username: this.username\n        })); // Optional: store user info\n        this.router.push('/'); // Redirect to Dashboard\n      } catch (err) {\n        this.error = err.message || 'Failed to login. Please check your credentials.';\n        localStorage.removeItem('admin-token');\n        localStorage.removeItem('admin-user');\n      }\n      this.loading = false;\n    }\n  }\n};","map":{"version":3,"names":["apiService","useRouter","name","data","username","password","loading","error","setup","router","methods","handleLogin","response","login","localStorage","setItem","token","JSON","stringify","push","err","message","removeItem"],"sources":["/home/jh9108/project-2/admin_panel/frontend/admin-app/src/views/LoginView.vue"],"sourcesContent":["<template>\n  <div class=\"login-container\">\n    <h2>Admin Login</h2>\n    <form @submit.prevent=\"handleLogin\">\n      <div>\n        <label for=\"username\">Username:</label>\n        <input type=\"text\" id=\"username\" v-model=\"username\" required />\n      </div>\n      <div>\n        <label for=\"password\">Password:</label>\n        <input type=\"password\" id=\"password\" v-model=\"password\" required />\n      </div>\n      <button type=\"submit\" :disabled=\"loading\">{{ loading ? 'Logging in...' : 'Login' }}</button>\n      <p v-if=\"error\" class=\"error-message\">{{ error }}</p>\n    </form>\n  </div>\n</template>\n\n<script>\nimport apiService from '../services/apiService';\nimport { useRouter } from 'vue-router';\n\nexport default {\n  name: 'LoginView',\n  data() {\n    return {\n      username: '',\n      password: '',\n      loading: false,\n      error: null,\n    };\n  },\n  setup() {\n    const router = useRouter();\n    return { router };\n  },\n  methods: {\n    async handleLogin() {\n      this.loading = true;\n      this.error = null;\n      try {\n        const response = await apiService.login(this.username, this.password);\n        localStorage.setItem('admin-token', response.token);\n        localStorage.setItem('admin-user', JSON.stringify({ username: this.username })); // Optional: store user info\n        this.router.push('/'); // Redirect to Dashboard\n      } catch (err) {\n        this.error = err.message || 'Failed to login. Please check your credentials.';\n        localStorage.removeItem('admin-token');\n        localStorage.removeItem('admin-user');\n      }\n      this.loading = false;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.login-container {\n  max-width: 400px;\n  margin: 50px auto;\n  padding: 20px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n.login-container h2 {\n  text-align: center;\n  margin-bottom: 20px;\n}\n.login-container div {\n  margin-bottom: 15px;\n}\n.login-container label {\n  display: block;\n  margin-bottom: 5px;\n}\n.login-container input {\n  width: 100%;\n  padding: 8px;\n  box-sizing: border-box;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n}\n.login-container button {\n  width: 100%;\n  padding: 10px;\n  background-color: #007bff;\n  color: white;\n  border: none;\n  border-radius: 3px;\n  cursor: pointer;\n}\n.login-container button:disabled {\n  background-color: #aaa;\n}\n.login-container button:hover:not(:disabled) {\n  background-color: #0056b3;\n}\n.error-message {\n  color: red;\n  margin-top: 10px;\n  text-align: center;\n}\n</style>\n"],"mappings":";AAmBA,OAAOA,UAAS,MAAO,wBAAwB;AAC/C,SAASC,SAAQ,QAAS,YAAY;AAEtC,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,OAAO,EAAE,KAAK;MACdC,KAAK,EAAE;IACT,CAAC;EACH,CAAC;EACDC,KAAKA,CAAA,EAAG;IACN,MAAMC,MAAK,GAAIR,SAAS,CAAC,CAAC;IAC1B,OAAO;MAAEQ;IAAO,CAAC;EACnB,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,WAAWA,CAAA,EAAG;MAClB,IAAI,CAACL,OAAM,GAAI,IAAI;MACnB,IAAI,CAACC,KAAI,GAAI,IAAI;MACjB,IAAI;QACF,MAAMK,QAAO,GAAI,MAAMZ,UAAU,CAACa,KAAK,CAAC,IAAI,CAACT,QAAQ,EAAE,IAAI,CAACC,QAAQ,CAAC;QACrES,YAAY,CAACC,OAAO,CAAC,aAAa,EAAEH,QAAQ,CAACI,KAAK,CAAC;QACnDF,YAAY,CAACC,OAAO,CAAC,YAAY,EAAEE,IAAI,CAACC,SAAS,CAAC;UAAEd,QAAQ,EAAE,IAAI,CAACA;QAAS,CAAC,CAAC,CAAC,EAAE;QACjF,IAAI,CAACK,MAAM,CAACU,IAAI,CAAC,GAAG,CAAC,EAAE;MACzB,EAAE,OAAOC,GAAG,EAAE;QACZ,IAAI,CAACb,KAAI,GAAIa,GAAG,CAACC,OAAM,IAAK,iDAAiD;QAC7EP,YAAY,CAACQ,UAAU,CAAC,aAAa,CAAC;QACtCR,YAAY,CAACQ,UAAU,CAAC,YAAY,CAAC;MACvC;MACA,IAAI,CAAChB,OAAM,GAAI,KAAK;IACtB;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}